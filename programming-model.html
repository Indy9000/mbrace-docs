<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Programming model
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="An open source framework for large-scale distributed computation and data processing written in F#."/>
    <meta name="author" content="Jan Dzik, Nick Palladinos, Kostas Rontogiannis, Eirik Tsarpalis"/>
    
    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link rel="icon" type="image/png" href="http://www.m-brace.net/img/favicon-196x196.png" sizes="196x196"/>
    <link rel="icon" type="image/png" href="http://www.m-brace.net/img/favicon-160x160.png" sizes="160x160"/>
    <link rel="icon" type="image/png" href="http://www.m-brace.net/img/favicon-96x96.png" sizes="96x96"/>
    <link rel="icon" type="image/png" href="http://www.m-brace.net/img/favicon-16x16.png" sizes="16x16"/>
    <link rel="icon" type="image/png" href="http://www.m-brace.net/img/favicon-32x32.png" sizes="32x32"/>

    <link type="text/css" rel="stylesheet" href="http://www.m-brace.net/content/style.css" />
    <script type="text/javascript" src="http://www.m-brace.net/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://nessos.github.io">nessos</a></li>
          <li><a href="http://github.com/mbraceproject/MBrace.Core">github page</a></li>
        </ul>
        <h3 class="muted"><a href="http://www.m-brace.net/index.html">MBrace</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Programming-model" class="anchor" href="#Programming-model">Programming model</a></h1>

<p>The MBrace programming model is based on F# 
<a href="http://msdn.microsoft.com/en-us/library/dd233182.aspx">computation expressions</a>,
a feature that allows user-defined, language-integrated DSLs.
A notable application of computation expressions in F# is
<a href="http://msdn.microsoft.com/en-us/library/dd233250.aspx">asynchronous workflows</a>,
a core library implementation that offers a concise and elegant asynchronous programming model.
MBrace draws heavy inspiration from asynchronous workflows and extends it to the domain of
distributed computation.</p>

<h2><a name="Cloud-workflows" class="anchor" href="#Cloud-workflows">Cloud workflows</a></h2>

<p>In MBrace, the unit of computation is a <em>cloud workflow:</em></p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs10', 15)" onmouseover="showTip(event, 'fs10', 15)" class="i">myFirstCloudWorkflow</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 16)" onmouseover="showTip(event, 'fs11', 16)" class="i">cloud</span> { <span class="k">return</span> <span class="n">42</span> }
</pre>
</td>
</tr>
</table>

<p>Cloud workflows generate objects of type <code>Cloud&lt;'T&gt;</code>, which denote a delayed computation
that once executed will yield a result of type <code>'T</code>. Cloud workflows are language-integrated
and can freely intertwine with native code.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs12', 17)" onmouseover="showTip(event, 'fs12', 17)" class="i">mySecondCloudWorkflow</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 18)" onmouseover="showTip(event, 'fs11', 18)" class="i">cloud</span> {
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 19)" onmouseover="showTip(event, 'fs13', 19)" class="i">now</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs14', 20)" onmouseover="showTip(event, 'fs14', 20)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs15', 21)" onmouseover="showTip(event, 'fs15', 21)" class="t">DateTime</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 22)" onmouseover="showTip(event, 'fs16', 22)" class="i">Now</span>
    <span onmouseout="hideTip(event, 'fs17', 23)" onmouseover="showTip(event, 'fs17', 23)" class="f">printfn</span> <span class="s">&quot;Current time: </span><span class="pf">%O</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs13', 24)" onmouseover="showTip(event, 'fs13', 24)" class="i">now</span>
    <span class="k">return</span> ()
}
</pre>
</td>
</tr>
</table>

<p>Note that the specific example introduces a side-effect to the computation.
Due to the distributed nature of cloud workflows, it is unclear where this might
take place once executed.</p>

<p>Simple cloud computations can be composed into larger ones using the <code>let!</code> keyword:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 25)" onmouseover="showTip(event, 'fs18', 25)" class="i">first</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 26)" onmouseover="showTip(event, 'fs11', 26)" class="i">cloud</span> { <span class="k">return</span> <span class="n">15</span> }
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs19', 27)" onmouseover="showTip(event, 'fs19', 27)" class="i">second</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 28)" onmouseover="showTip(event, 'fs11', 28)" class="i">cloud</span> { <span class="k">return</span> <span class="n">27</span> }

<span onmouseout="hideTip(event, 'fs11', 29)" onmouseover="showTip(event, 'fs11', 29)" class="i">cloud</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs20', 30)" onmouseover="showTip(event, 'fs20', 30)" class="i">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs18', 31)" onmouseover="showTip(event, 'fs18', 31)" class="i">first</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs21', 32)" onmouseover="showTip(event, 'fs21', 32)" class="i">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs19', 33)" onmouseover="showTip(event, 'fs19', 33)" class="i">second</span>
    <span class="k">return</span> <span onmouseout="hideTip(event, 'fs20', 34)" onmouseover="showTip(event, 'fs20', 34)" class="i">x</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs21', 35)" onmouseover="showTip(event, 'fs21', 35)" class="i">y</span>
}
</pre>
</td>
</tr>
</table>

<p>This creates bindings to the first and second workflows respectively,
to be consumed by the continuations of the main computation.
Once executed, this will sequentually perform the computations in <code>first</code>
and <code>second</code>, resuming once the latter has completed.</p>

<p>Recursion and higher-order computations are possible:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">/// Sequentially fold along a set of jobs</span>
<span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs22', 36)" onmouseover="showTip(event, 'fs22', 36)" class="f">foldLeftCloud</span> <span onmouseout="hideTip(event, 'fs23', 37)" onmouseover="showTip(event, 'fs23', 37)" class="f">f</span> <span onmouseout="hideTip(event, 'fs24', 38)" onmouseover="showTip(event, 'fs24', 38)" class="i">state</span> <span onmouseout="hideTip(event, 'fs25', 39)" onmouseover="showTip(event, 'fs25', 39)" class="i">ts</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 40)" onmouseover="showTip(event, 'fs11', 40)" class="i">cloud</span> {
    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs25', 41)" onmouseover="showTip(event, 'fs25', 41)" class="i">ts</span> <span class="k">with</span>
    | [] <span class="k">-&gt;</span> <span class="k">return</span> <span onmouseout="hideTip(event, 'fs24', 42)" onmouseover="showTip(event, 'fs24', 42)" class="i">state</span>
    | <span onmouseout="hideTip(event, 'fs26', 43)" onmouseover="showTip(event, 'fs26', 43)" class="i">t</span> <span class="o">::</span> <span onmouseout="hideTip(event, 'fs27', 44)" onmouseover="showTip(event, 'fs27', 44)" class="i">ts&#39;</span> <span class="k">-&gt;</span>
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs28', 45)" onmouseover="showTip(event, 'fs28', 45)" class="i">s&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs23', 46)" onmouseover="showTip(event, 'fs23', 46)" class="f">f</span> <span onmouseout="hideTip(event, 'fs24', 47)" onmouseover="showTip(event, 'fs24', 47)" class="i">state</span> <span onmouseout="hideTip(event, 'fs26', 48)" onmouseover="showTip(event, 'fs26', 48)" class="i">t</span>
        <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs22', 49)" onmouseover="showTip(event, 'fs22', 49)" class="f">foldLeftCloud</span> <span onmouseout="hideTip(event, 'fs23', 50)" onmouseover="showTip(event, 'fs23', 50)" class="f">f</span> <span onmouseout="hideTip(event, 'fs28', 51)" onmouseover="showTip(event, 'fs28', 51)" class="i">s&#39;</span> <span onmouseout="hideTip(event, 'fs27', 52)" onmouseover="showTip(event, 'fs27', 52)" class="i">ts&#39;</span>
}
</pre>
</td>
</tr>
</table>

<p>and so are for loops and while loops.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">/// Sequentially iterate and loop </span>
<span onmouseout="hideTip(event, 'fs11', 53)" onmouseover="showTip(event, 'fs11', 53)" class="i">cloud</span> {
    <span class="k">for</span> <span onmouseout="hideTip(event, 'fs29', 54)" onmouseover="showTip(event, 'fs29', 54)" class="i">i</span> <span class="k">in</span> [| <span class="n">1</span> <span class="o">..</span> <span class="n">100</span> |] <span class="k">do</span>
        <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs30', 55)" onmouseover="showTip(event, 'fs30', 55)" class="t">Cloud</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 56)" onmouseover="showTip(event, 'fs31', 56)" class="f">Logf</span> <span class="s">&quot;Logging entry </span><span class="pf">%d</span><span class="s"> of 100&quot;</span> <span onmouseout="hideTip(event, 'fs29', 57)" onmouseover="showTip(event, 'fs29', 57)" class="i">i</span>

    <span class="k">while</span> <span class="k">true</span> <span class="k">do</span>
        <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs30', 58)" onmouseover="showTip(event, 'fs30', 58)" class="t">Cloud</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs32', 59)" onmouseover="showTip(event, 'fs32', 59)" class="f">Sleep</span> <span class="n">200</span>
        <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs30', 60)" onmouseover="showTip(event, 'fs30', 60)" class="t">Cloud</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 61)" onmouseover="showTip(event, 'fs33', 61)" class="f">Log</span> <span class="s">&quot;Logging forever...&quot;</span>
}
</pre>
</td>
</tr>
</table>

<p>MBrace workflows also integrate with exception handling:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs11', 62)" onmouseover="showTip(event, 'fs11', 62)" class="i">cloud</span> {
    <span class="k">try</span>
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs20', 63)" onmouseover="showTip(event, 'fs20', 63)" class="i">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 64)" onmouseover="showTip(event, 'fs11', 64)" class="i">cloud</span> { <span class="k">return</span> <span class="n">1</span> <span class="o">/</span> <span class="n">0</span> }
        <span class="k">return</span> <span class="k">true</span>

    <span class="k">with</span> <span class="o">:?</span> <span onmouseout="hideTip(event, 'fs14', 65)" onmouseover="showTip(event, 'fs14', 65)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 66)" onmouseover="showTip(event, 'fs34', 66)" class="t">DivideByZeroException</span> <span class="k">-&gt;</span> <span class="k">return</span> <span class="k">false</span>
}
</pre>
</td>
</tr>
</table>

<p>Asynchronous workflows can be embedded into cloud workflows:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 67)" onmouseover="showTip(event, 'fs35', 67)" class="f">downloadAsync</span> (<span onmouseout="hideTip(event, 'fs36', 68)" onmouseover="showTip(event, 'fs36', 68)" class="i">url</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs37', 69)" onmouseover="showTip(event, 'fs37', 69)" class="t">string</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 70)" onmouseover="showTip(event, 'fs38', 70)" class="i">async</span> {
    <span class="k">use</span> <span onmouseout="hideTip(event, 'fs39', 71)" onmouseover="showTip(event, 'fs39', 71)" class="i">webClient</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs14', 72)" onmouseover="showTip(event, 'fs14', 72)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs40', 73)" onmouseover="showTip(event, 'fs40', 73)" class="i">Net</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 74)" onmouseover="showTip(event, 'fs41', 74)" class="t">WebClient</span>()
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs42', 75)" onmouseover="showTip(event, 'fs42', 75)" class="i">html</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs39', 76)" onmouseover="showTip(event, 'fs39', 76)" class="i">webClient</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs43', 77)" onmouseover="showTip(event, 'fs43', 77)" class="f">AsyncDownloadString</span>(<span onmouseout="hideTip(event, 'fs14', 78)" onmouseover="showTip(event, 'fs14', 78)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs44', 79)" onmouseover="showTip(event, 'fs44', 79)" class="t">Uri</span> <span onmouseout="hideTip(event, 'fs36', 80)" onmouseover="showTip(event, 'fs36', 80)" class="i">url</span>) 
    <span class="k">return</span> <span onmouseout="hideTip(event, 'fs42', 81)" onmouseover="showTip(event, 'fs42', 81)" class="i">html</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs45', 82)" onmouseover="showTip(event, 'fs45', 82)" class="f">Split</span>(<span class="s">&#39;\n&#39;</span>)
}


<span onmouseout="hideTip(event, 'fs11', 83)" onmouseover="showTip(event, 'fs11', 83)" class="i">cloud</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs46', 84)" onmouseover="showTip(event, 'fs46', 84)" class="i">t1</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 85)" onmouseover="showTip(event, 'fs35', 85)" class="f">downloadAsync</span> <span class="s">&quot;http://www.nessos.gr/&quot;</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 86)" onmouseover="showTip(event, 'fs30', 86)" class="t">Cloud</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 87)" onmouseover="showTip(event, 'fs47', 87)" class="f">OfAsync</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs48', 88)" onmouseover="showTip(event, 'fs48', 88)" class="i">t2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 89)" onmouseover="showTip(event, 'fs35', 89)" class="f">downloadAsync</span> <span class="s">&quot;http://www.m-brace.net/&quot;</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 90)" onmouseover="showTip(event, 'fs30', 90)" class="t">Cloud</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 91)" onmouseover="showTip(event, 'fs47', 91)" class="f">OfAsync</span>
    <span class="k">return</span> <span onmouseout="hideTip(event, 'fs46', 92)" onmouseover="showTip(event, 'fs46', 92)" class="i">t1</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 93)" onmouseover="showTip(event, 'fs49', 93)" class="i">Length</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs48', 94)" onmouseover="showTip(event, 'fs48', 94)" class="i">t2</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 95)" onmouseover="showTip(event, 'fs49', 95)" class="i">Length</span>
}
</pre>
</td>
</tr>
</table>

<h2><a name="Parallelism-Combinators" class="anchor" href="#Parallelism-Combinators">Parallelism Combinators</a></h2>

<p>Cloud workflows as discussed so far enable asynchronous
computation but do not suffice in describing parallelism and distribution.
To control this, MBrace uses a collection of primitive combinators that act on
the distribution/parallelism semantics of execution in cloud workflows.</p>

<p>The previous example could be altered so that downloading happens in parallel:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs50', 96)" onmouseover="showTip(event, 'fs50', 96)" class="f">downloadCloud</span> <span onmouseout="hideTip(event, 'fs36', 97)" onmouseover="showTip(event, 'fs36', 97)" class="i">url</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 98)" onmouseover="showTip(event, 'fs35', 98)" class="f">downloadAsync</span> <span onmouseout="hideTip(event, 'fs36', 99)" onmouseover="showTip(event, 'fs36', 99)" class="i">url</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 100)" onmouseover="showTip(event, 'fs30', 100)" class="t">Cloud</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 101)" onmouseover="showTip(event, 'fs47', 101)" class="f">OfAsync</span>

<span onmouseout="hideTip(event, 'fs11', 102)" onmouseover="showTip(event, 'fs11', 102)" class="i">cloud</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs46', 103)" onmouseover="showTip(event, 'fs46', 103)" class="i">t1</span>,<span onmouseout="hideTip(event, 'fs48', 104)" onmouseover="showTip(event, 'fs48', 104)" class="i">t2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs50', 105)" onmouseover="showTip(event, 'fs50', 105)" class="f">downloadCloud</span> <span class="s">&quot;http://www.m-brace.net&quot;</span> <span class="o">&lt;||&gt;</span> <span onmouseout="hideTip(event, 'fs50', 106)" onmouseover="showTip(event, 'fs50', 106)" class="f">downloadCloud</span> <span class="s">&quot;http://www.nessos.gr/&quot;</span>
    <span class="k">return</span> <span class="i">t1</span><span class="o">.</span><span class="i">Length</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs48', 107)" onmouseover="showTip(event, 'fs48', 107)" class="i">t2</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 108)" onmouseover="showTip(event, 'fs49', 108)" class="i">Length</span>
}
</pre>
</td>
</tr>
</table>

<p>The <code>&lt;||&gt;</code> operator defines the <em>binary parallel combinator</em>, which combines two workflows
into one where both will executed in fork/join parallelism.
It should be noted that parallelism in this case means that each of the workflows
will be scheduled for execution in remote and potentially separete worker machines
in the MBrace cluster.</p>

<p>The <code>Cloud.Parallel</code> combinator is the variadic version of <code>&lt;||&gt;</code>,
which can be used for running arbitrarily many cloud workflows in parallel:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs11', 109)" onmouseover="showTip(event, 'fs11', 109)" class="i">cloud</span> {
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs51', 110)" onmouseover="showTip(event, 'fs51', 110)" class="f">sqr</span> <span onmouseout="hideTip(event, 'fs20', 111)" onmouseover="showTip(event, 'fs20', 111)" class="i">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 112)" onmouseover="showTip(event, 'fs11', 112)" class="i">cloud</span> { <span class="k">return</span> <span onmouseout="hideTip(event, 'fs20', 113)" onmouseover="showTip(event, 'fs20', 113)" class="i">x</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs20', 114)" onmouseover="showTip(event, 'fs20', 114)" class="i">x</span> }

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs52', 115)" onmouseover="showTip(event, 'fs52', 115)" class="i">N</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs14', 116)" onmouseover="showTip(event, 'fs14', 116)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs53', 117)" onmouseover="showTip(event, 'fs53', 117)" class="t">Random</span>()<span class="o">.</span><span class="f">Next</span>(<span class="n">50</span>,<span class="n">100</span>) <span class="c">// number of parallel jobs determined at runtime</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs54', 118)" onmouseover="showTip(event, 'fs54', 118)" class="i">results</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs30', 119)" onmouseover="showTip(event, 'fs30', 119)" class="t">Cloud</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 120)" onmouseover="showTip(event, 'fs55', 120)" class="f">Parallel</span>(<span onmouseout="hideTip(event, 'fs56', 121)" onmouseover="showTip(event, 'fs56', 121)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs57', 122)" onmouseover="showTip(event, 'fs57', 122)" class="f">map</span> <span onmouseout="hideTip(event, 'fs51', 123)" onmouseover="showTip(event, 'fs51', 123)" class="f">sqr</span> [<span class="n">1..</span> <span onmouseout="hideTip(event, 'fs52', 124)" onmouseover="showTip(event, 'fs52', 124)" class="i">N</span>])
    <span class="k">return</span> <span onmouseout="hideTip(event, 'fs58', 125)" onmouseover="showTip(event, 'fs58', 125)" class="t">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs59', 126)" onmouseover="showTip(event, 'fs59', 126)" class="f">sum</span> <span onmouseout="hideTip(event, 'fs54', 127)" onmouseover="showTip(event, 'fs54', 127)" class="i">results</span>
}
</pre>
</td>
</tr>
</table>

<p>A point of interest here is exception handling. Consider the workflow</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs11', 128)" onmouseover="showTip(event, 'fs11', 128)" class="i">cloud</span> {

    <span class="k">try</span>
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs60', 129)" onmouseover="showTip(event, 'fs60', 129)" class="i">results</span> <span class="o">=</span>
            [ <span class="s">&quot;http://www.m-brace.net/&quot;</span>
              <span class="s">&quot;http://www.nessos.gr/&quot;</span>
              <span class="s">&quot;http://non.existent.domain/&quot;</span> ]
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 130)" onmouseover="showTip(event, 'fs56', 130)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs57', 131)" onmouseover="showTip(event, 'fs57', 131)" class="f">map</span> <span onmouseout="hideTip(event, 'fs50', 132)" onmouseover="showTip(event, 'fs50', 132)" class="f">downloadCloud</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 133)" onmouseover="showTip(event, 'fs30', 133)" class="t">Cloud</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 134)" onmouseover="showTip(event, 'fs55', 134)" class="f">Parallel</span>

        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs60', 135)" onmouseover="showTip(event, 'fs60', 135)" class="i">results</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs58', 136)" onmouseover="showTip(event, 'fs58', 136)" class="t">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 137)" onmouseover="showTip(event, 'fs61', 137)" class="f">sumBy</span>(<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs62', 138)" onmouseover="showTip(event, 'fs62', 138)" class="i">r</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs62', 139)" onmouseover="showTip(event, 'fs62', 139)" class="i">r</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 140)" onmouseover="showTip(event, 'fs49', 140)" class="i">Length</span>)

    <span class="k">with</span> <span class="o">:?</span> <span onmouseout="hideTip(event, 'fs14', 141)" onmouseover="showTip(event, 'fs14', 141)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs40', 142)" onmouseover="showTip(event, 'fs40', 142)" class="i">Net</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs63', 143)" onmouseover="showTip(event, 'fs63', 143)" class="t">WebException</span> <span class="k">as</span> <span onmouseout="hideTip(event, 'fs64', 144)" onmouseover="showTip(event, 'fs64', 144)" class="i">e</span> <span class="k">-&gt;</span>
        <span class="c">// log and reraise</span>
        <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs30', 145)" onmouseover="showTip(event, 'fs30', 145)" class="t">Cloud</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 146)" onmouseover="showTip(event, 'fs31', 146)" class="f">Logf</span> <span class="s">&quot;Encountered error </span><span class="pf">%O</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs64', 147)" onmouseover="showTip(event, 'fs64', 147)" class="i">e</span>
        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs65', 148)" onmouseover="showTip(event, 'fs65', 148)" class="f">raise</span> <span onmouseout="hideTip(event, 'fs64', 149)" onmouseover="showTip(event, 'fs64', 149)" class="i">e</span>
}
</pre>
</td>
</tr>
</table>

<p>Clearly, one of the child computations will fail on account of
an invalid url, creating an exception. In general, uncaught exceptions
bubble up through <code>Cloud.Parallel</code> triggering cancellation of all
outstanding child computations (just like <code>Async.Parallel</code>).</p>

<p>The interesting bit here is that the exception handling clause
will almost certainly be executed in a different machine than the one
in which it was originally thrown. This is due to the interpreted
nature of the monadic skeleton of cloud workflows, which allows
exceptions, environments, closures to be passed around worker machines
in a seemingly transparent manner.</p>

<h3><a name="Example-Defining-a-MapReduce-workflow" class="anchor" href="#Example-Defining-a-MapReduce-workflow">Example: Defining a MapReduce workflow</a></h3>

<p>Cloud worklows in conjunctions with parallel combinators can be used
to articulate MapReduce-like workflows. A simplistic version follows:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs68', 155)" onmouseover="showTip(event, 'fs68', 155)" class="f">mapReduce</span> (<span onmouseout="hideTip(event, 'fs69', 156)" onmouseover="showTip(event, 'fs69', 156)" class="f">map</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span> <span class="k">-&gt;</span> <span class="o">&#39;</span><span class="i">R</span>) (<span onmouseout="hideTip(event, 'fs70', 157)" onmouseover="showTip(event, 'fs70', 157)" class="f">reduce</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">R</span> <span class="k">-&gt;</span> <span class="o">&#39;</span><span class="i">R</span> <span class="k">-&gt;</span> <span class="o">&#39;</span><span class="i">R</span>)
                (<span onmouseout="hideTip(event, 'fs71', 158)" onmouseover="showTip(event, 'fs71', 158)" class="i">identity</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">R</span>) (<span onmouseout="hideTip(event, 'fs72', 159)" onmouseover="showTip(event, 'fs72', 159)" class="i">inputs</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span> <span onmouseout="hideTip(event, 'fs73', 160)" onmouseover="showTip(event, 'fs73', 160)" class="t">list</span>) <span class="o">=</span>

    <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs74', 161)" onmouseover="showTip(event, 'fs74', 161)" class="f">aux</span> <span onmouseout="hideTip(event, 'fs72', 162)" onmouseover="showTip(event, 'fs72', 162)" class="i">inputs</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 163)" onmouseover="showTip(event, 'fs11', 163)" class="i">cloud</span> {
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs72', 164)" onmouseover="showTip(event, 'fs72', 164)" class="i">inputs</span> <span class="k">with</span>
        | [] <span class="k">-&gt;</span> <span class="k">return</span> <span onmouseout="hideTip(event, 'fs71', 165)" onmouseover="showTip(event, 'fs71', 165)" class="i">identity</span>
        | [<span onmouseout="hideTip(event, 'fs75', 166)" onmouseover="showTip(event, 'fs75', 166)" class="i">t</span>] <span class="k">-&gt;</span> <span class="k">return</span> <span onmouseout="hideTip(event, 'fs69', 167)" onmouseover="showTip(event, 'fs69', 167)" class="f">map</span> <span onmouseout="hideTip(event, 'fs75', 168)" onmouseover="showTip(event, 'fs75', 168)" class="i">t</span>
        | _ <span class="k">-&gt;</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs76', 169)" onmouseover="showTip(event, 'fs76', 169)" class="i">left</span>,<span onmouseout="hideTip(event, 'fs77', 170)" onmouseover="showTip(event, 'fs77', 170)" class="i">right</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs78', 171)" onmouseover="showTip(event, 'fs78', 171)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs66', 172)" onmouseover="showTip(event, 'fs66', 172)" class="f">split</span> <span onmouseout="hideTip(event, 'fs72', 173)" onmouseover="showTip(event, 'fs72', 173)" class="i">inputs</span>
            <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs79', 174)" onmouseover="showTip(event, 'fs79', 174)" class="i">r</span>, <span onmouseout="hideTip(event, 'fs80', 175)" onmouseover="showTip(event, 'fs80', 175)" class="i">r&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs74', 176)" onmouseover="showTip(event, 'fs74', 176)" class="f">aux</span> <span onmouseout="hideTip(event, 'fs76', 177)" onmouseover="showTip(event, 'fs76', 177)" class="i">left</span> <span class="o">&lt;||&gt;</span> <span onmouseout="hideTip(event, 'fs74', 178)" onmouseover="showTip(event, 'fs74', 178)" class="f">aux</span> <span onmouseout="hideTip(event, 'fs77', 179)" onmouseover="showTip(event, 'fs77', 179)" class="i">right</span>
            <span class="k">return</span> <span onmouseout="hideTip(event, 'fs70', 180)" onmouseover="showTip(event, 'fs70', 180)" class="f">reduce</span> <span onmouseout="hideTip(event, 'fs79', 181)" onmouseover="showTip(event, 'fs79', 181)" class="i">r</span> <span onmouseout="hideTip(event, 'fs80', 182)" onmouseover="showTip(event, 'fs80', 182)" class="i">r&#39;</span>
    }

    <span onmouseout="hideTip(event, 'fs74', 183)" onmouseover="showTip(event, 'fs74', 183)" class="f">aux</span> <span onmouseout="hideTip(event, 'fs72', 184)" onmouseover="showTip(event, 'fs72', 184)" class="i">inputs</span>
</pre>
</td>
</tr>
</table>

<p>The workflow follows a divide-and-conquer approach, 
recursively partitioning input data until trivial cases are met. 
Recursive calls are passed through the <code>&lt;||&gt;</code> operator,
thus achieving the effect of distributed parallelism.</p>

<p>It should be noted that this is indeed a naive conception of mapReduce,
as it does enable data parallelism nor does it take into account cluster granularity. 
For a more in-depth exposition of mapReduce, please refer to the MBrace <a href="mbrace-manual.pdf">manual</a>.</p>

<h2><a name="Non-deterministic-parallelism" class="anchor" href="#Non-deterministic-parallelism">Non-deterministic parallelism</a></h2>

<p>MBrace provides the <code>Cloud.Choice</code> combinator that utilizes
parallelism for non-deterministic algorithms.
Cloud workflows of type <code>Cloud&lt;'T option&gt;</code> are said to be non-deterministic
in the sense that their return type indicates either success with <code>Some</code> result 
or a negative answer with <code>None</code>.</p>

<p><code>Cloud.Choice</code> combines a collection of arbitrary nondeterministic computations
into one in which everything executes in parallel: it either returns <code>Some</code> result
whenever a child happens to complete with <code>Some</code> result (cancelling all pending jobs)
or <code>None</code> when all children have completed with <code>None</code>. It can be thought of as
a distributed equivalent to the <code>Seq.tryPick</code> function found in the F# core library.</p>

<p>The following example defines a distributed search function based on <code>Cloud.Choice</code>:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs81', 185)" onmouseover="showTip(event, 'fs81', 185)" class="f">tryFind</span> (<span onmouseout="hideTip(event, 'fs82', 186)" onmouseover="showTip(event, 'fs82', 186)" class="f">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs83', 187)" onmouseover="showTip(event, 'fs83', 187)" class="t">bool</span>) (<span onmouseout="hideTip(event, 'fs84', 188)" onmouseover="showTip(event, 'fs84', 188)" class="i">ts</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span> <span onmouseout="hideTip(event, 'fs73', 189)" onmouseover="showTip(event, 'fs73', 189)" class="t">list</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 190)" onmouseover="showTip(event, 'fs11', 190)" class="i">cloud</span> {
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs85', 191)" onmouseover="showTip(event, 'fs85', 191)" class="f">select</span> <span onmouseout="hideTip(event, 'fs75', 192)" onmouseover="showTip(event, 'fs75', 192)" class="i">t</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 193)" onmouseover="showTip(event, 'fs11', 193)" class="i">cloud</span> {
        <span class="k">return</span>
            <span class="k">if</span> <span onmouseout="hideTip(event, 'fs82', 194)" onmouseover="showTip(event, 'fs82', 194)" class="f">f</span> <span onmouseout="hideTip(event, 'fs75', 195)" onmouseover="showTip(event, 'fs75', 195)" class="i">t</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs86', 196)" onmouseover="showTip(event, 'fs86', 196)" class="p">Some</span> <span onmouseout="hideTip(event, 'fs75', 197)" onmouseover="showTip(event, 'fs75', 197)" class="i">t</span>
            <span class="k">else</span> <span onmouseout="hideTip(event, 'fs87', 198)" onmouseover="showTip(event, 'fs87', 198)" class="p">None</span>
    }

    <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs84', 199)" onmouseover="showTip(event, 'fs84', 199)" class="i">ts</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs78', 200)" onmouseover="showTip(event, 'fs78', 200)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs57', 201)" onmouseover="showTip(event, 'fs57', 201)" class="f">map</span> <span class="f">select</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 202)" onmouseover="showTip(event, 'fs30', 202)" class="t">Cloud</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs88', 203)" onmouseover="showTip(event, 'fs88', 203)" class="f">Choice</span>
}
</pre>
</td>
</tr>
</table>

<h2><a name="Distributed-Data" class="anchor" href="#Distributed-Data">Distributed Data</a></h2>

<p>Cloud workflows offer a programming model for distributed computation. 
But what happens when it comes to big data? While the distributable 
execution environments of mbrace do offer a limited form of data distribution, 
their scope is inherently local and almost certainly do not scale to the demands 
of modern big data applications.  MBrace offers a plethora of mechanisms for managing
data in a more global and massive scale. These provide an essential decoupling 
between distributed computation and distributed data.</p>

<h3><a name="Cloud-Cells-Cloud-Values" class="anchor" href="#Cloud-Cells-Cloud-Values">Cloud Cells (Cloud Values)</a></h3>

<p>The mbrace programming model offers access to persistable and distributed data 
entities known as cloud cells. Cloud cells very much resemble values found in 
the ML family of languages but are "monadic" in nature. In other words, their 
declaration entails a scheduling decision by the runtime. 
The following workflow stores the downloaded content of a web page and returns a cloud cell to it:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs89', 204)" onmouseover="showTip(event, 'fs89', 204)" class="f">getTextCell</span> () <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 205)" onmouseover="showTip(event, 'fs11', 205)" class="i">cloud</span> {
    <span class="c">// download a piece of data</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs90', 206)" onmouseover="showTip(event, 'fs90', 206)" class="i">text</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs50', 207)" onmouseover="showTip(event, 'fs50', 207)" class="f">downloadCloud</span> <span class="s">&quot;http://www.m-brace.net/&quot;</span>
    <span class="c">// store data to a new CloudCell</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs91', 208)" onmouseover="showTip(event, 'fs91', 208)" class="i">cref</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs92', 209)" onmouseover="showTip(event, 'fs92', 209)" class="t">CloudCell</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs93', 210)" onmouseover="showTip(event, 'fs93', 210)" class="f">New</span> <span onmouseout="hideTip(event, 'fs90', 211)" onmouseover="showTip(event, 'fs90', 211)" class="i">text</span>
    <span class="c">// return the ref</span>
    <span class="k">return</span> <span onmouseout="hideTip(event, 'fs91', 212)" onmouseover="showTip(event, 'fs91', 212)" class="i">cref</span>
}
</pre>
</td>
</tr>
</table>

<p>Dereferencing a cloud cell can be done by getting its <code>.Value</code> property:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs94', 213)" onmouseover="showTip(event, 'fs94', 213)" class="f">dereference</span> (<span onmouseout="hideTip(event, 'fs95', 214)" onmouseover="showTip(event, 'fs95', 214)" class="i">data</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs92', 215)" onmouseover="showTip(event, 'fs92', 215)" class="t">CloudCell</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs96', 216)" onmouseover="showTip(event, 'fs96', 216)" class="t">byte</span> []<span class="o">&gt;</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 217)" onmouseover="showTip(event, 'fs11', 217)" class="i">cloud</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs97', 218)" onmouseover="showTip(event, 'fs97', 218)" class="i">v</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 219)" onmouseover="showTip(event, 'fs95', 219)" class="i">data</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs98', 220)" onmouseover="showTip(event, 'fs98', 220)" class="i">Value</span>
    <span class="k">return</span> <span onmouseout="hideTip(event, 'fs97', 221)" onmouseover="showTip(event, 'fs97', 221)" class="i">v</span>
}
</pre>
</td>
</tr>
</table>

<p>Cloud cells are stored in named locations and can be resurrected (parsed) from
this locations using <code>CloudCell.Parse</code>, supplying a type.</p>

<h3><a name="Example-Distributed-Binary-Trees" class="anchor" href="#Example-Distributed-Binary-Trees">Example: Distributed Binary Trees</a></h3>

<p>An interesting aspect of cloud cells is the ability to define distributed data structures. 
For example, one could define a distributed binary tree like so:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs99', 222)" onmouseover="showTip(event, 'fs99', 222)" class="t">CloudTree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span> <span class="o">=</span> 
    | <span onmouseout="hideTip(event, 'fs100', 223)" onmouseover="showTip(event, 'fs100', 223)" class="p">Empty</span>
    | <span onmouseout="hideTip(event, 'fs101', 224)" onmouseover="showTip(event, 'fs101', 224)" class="p">Leaf</span> <span class="k">of</span> <span class="o">&#39;</span><span class="i">T</span>
    | <span onmouseout="hideTip(event, 'fs102', 225)" onmouseover="showTip(event, 'fs102', 225)" class="p">Branch</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs103', 226)" onmouseover="showTip(event, 'fs103', 226)" class="t">TreeRef</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs103', 227)" onmouseover="showTip(event, 'fs103', 227)" class="t">TreeRef</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span>

<span class="k">and</span> <span onmouseout="hideTip(event, 'fs103', 228)" onmouseover="showTip(event, 'fs103', 228)" class="t">TreeRef</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs92', 229)" onmouseover="showTip(event, 'fs92', 229)" class="t">CloudCell</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs99', 230)" onmouseover="showTip(event, 'fs99', 230)" class="t">CloudTree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span><span class="o">&gt;</span>
</pre>
</td>
</tr>
</table>

<p>The cloud tree gives rise to a number of naturally distributable combinators. For example</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs104', 231)" onmouseover="showTip(event, 'fs104', 231)" class="f">map</span> (<span onmouseout="hideTip(event, 'fs105', 232)" onmouseover="showTip(event, 'fs105', 232)" class="f">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span> <span class="k">-&gt;</span> <span class="o">&#39;</span><span class="i">S</span>) (<span onmouseout="hideTip(event, 'fs106', 233)" onmouseover="showTip(event, 'fs106', 233)" class="i">ttree</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs103', 234)" onmouseover="showTip(event, 'fs103', 234)" class="t">TreeRef</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 235)" onmouseover="showTip(event, 'fs11', 235)" class="i">cloud</span> { 
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs107', 236)" onmouseover="showTip(event, 'fs107', 236)" class="i">value</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs106', 237)" onmouseover="showTip(event, 'fs106', 237)" class="i">ttree</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs108', 238)" onmouseover="showTip(event, 'fs108', 238)" class="i">Value</span>
    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs107', 239)" onmouseover="showTip(event, 'fs107', 239)" class="i">value</span> <span class="k">with</span>
    | <span onmouseout="hideTip(event, 'fs100', 240)" onmouseover="showTip(event, 'fs100', 240)" class="p">Empty</span> <span class="k">-&gt;</span> <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs92', 241)" onmouseover="showTip(event, 'fs92', 241)" class="t">CloudCell</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs93', 242)" onmouseover="showTip(event, 'fs93', 242)" class="f">New</span> <span onmouseout="hideTip(event, 'fs100', 243)" onmouseover="showTip(event, 'fs100', 243)" class="p">Empty</span>
    | <span onmouseout="hideTip(event, 'fs101', 244)" onmouseover="showTip(event, 'fs101', 244)" class="p">Leaf</span> <span onmouseout="hideTip(event, 'fs75', 245)" onmouseover="showTip(event, 'fs75', 245)" class="i">t</span> <span class="k">-&gt;</span> <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs92', 246)" onmouseover="showTip(event, 'fs92', 246)" class="t">CloudCell</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs93', 247)" onmouseover="showTip(event, 'fs93', 247)" class="f">New</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs101', 248)" onmouseover="showTip(event, 'fs101', 248)" class="p">Leaf</span> (<span onmouseout="hideTip(event, 'fs105', 249)" onmouseover="showTip(event, 'fs105', 249)" class="f">f</span> <span onmouseout="hideTip(event, 'fs75', 250)" onmouseover="showTip(event, 'fs75', 250)" class="i">t</span>)
    | <span onmouseout="hideTip(event, 'fs102', 251)" onmouseover="showTip(event, 'fs102', 251)" class="p">Branch</span>(<span onmouseout="hideTip(event, 'fs109', 252)" onmouseover="showTip(event, 'fs109', 252)" class="i">l</span>,<span onmouseout="hideTip(event, 'fs110', 253)" onmouseover="showTip(event, 'fs110', 253)" class="i">r</span>) <span class="k">-&gt;</span>
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs111', 254)" onmouseover="showTip(event, 'fs111', 254)" class="i">l&#39;</span>,<span onmouseout="hideTip(event, 'fs112', 255)" onmouseover="showTip(event, 'fs112', 255)" class="i">r&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs104', 256)" onmouseover="showTip(event, 'fs104', 256)" class="f">map</span> <span onmouseout="hideTip(event, 'fs105', 257)" onmouseover="showTip(event, 'fs105', 257)" class="f">f</span> <span onmouseout="hideTip(event, 'fs109', 258)" onmouseover="showTip(event, 'fs109', 258)" class="i">l</span> <span class="o">&lt;||&gt;</span> <span onmouseout="hideTip(event, 'fs104', 259)" onmouseover="showTip(event, 'fs104', 259)" class="f">map</span> <span onmouseout="hideTip(event, 'fs105', 260)" onmouseover="showTip(event, 'fs105', 260)" class="f">f</span> <span onmouseout="hideTip(event, 'fs110', 261)" onmouseover="showTip(event, 'fs110', 261)" class="i">r</span> 
        <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs92', 262)" onmouseover="showTip(event, 'fs92', 262)" class="t">CloudCell</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs93', 263)" onmouseover="showTip(event, 'fs93', 263)" class="f">New</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs102', 264)" onmouseover="showTip(event, 'fs102', 264)" class="p">Branch</span>(<span class="i">l&#39;</span>, <span onmouseout="hideTip(event, 'fs112', 265)" onmouseover="showTip(event, 'fs112', 265)" class="i">r&#39;</span>)
}
</pre>
</td>
</tr>
</table>

<p>and</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs113', 266)" onmouseover="showTip(event, 'fs113', 266)" class="f">reduce</span> (<span onmouseout="hideTip(event, 'fs114', 267)" onmouseover="showTip(event, 'fs114', 267)" class="i">id</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">R</span>) (<span onmouseout="hideTip(event, 'fs115', 268)" onmouseover="showTip(event, 'fs115', 268)" class="f">reduceF</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">R</span> <span class="k">-&gt;</span> <span class="o">&#39;</span><span class="i">R</span> <span class="k">-&gt;</span> <span class="o">&#39;</span><span class="i">R</span>) (<span onmouseout="hideTip(event, 'fs116', 269)" onmouseover="showTip(event, 'fs116', 269)" class="i">rtree</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs103', 270)" onmouseover="showTip(event, 'fs103', 270)" class="t">TreeRef</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">R</span><span class="o">&gt;</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 271)" onmouseover="showTip(event, 'fs11', 271)" class="i">cloud</span> { 
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs117', 272)" onmouseover="showTip(event, 'fs117', 272)" class="i">value</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs116', 273)" onmouseover="showTip(event, 'fs116', 273)" class="i">rtree</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs118', 274)" onmouseover="showTip(event, 'fs118', 274)" class="i">Value</span>
    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs117', 275)" onmouseover="showTip(event, 'fs117', 275)" class="i">value</span> <span class="k">with</span>
    | <span onmouseout="hideTip(event, 'fs100', 276)" onmouseover="showTip(event, 'fs100', 276)" class="p">Empty</span> <span class="k">-&gt;</span> <span class="k">return</span> <span onmouseout="hideTip(event, 'fs114', 277)" onmouseover="showTip(event, 'fs114', 277)" class="i">id</span>
    | <span onmouseout="hideTip(event, 'fs101', 278)" onmouseover="showTip(event, 'fs101', 278)" class="p">Leaf</span> <span onmouseout="hideTip(event, 'fs79', 279)" onmouseover="showTip(event, 'fs79', 279)" class="i">r</span> <span class="k">-&gt;</span> <span class="k">return</span> <span onmouseout="hideTip(event, 'fs79', 280)" onmouseover="showTip(event, 'fs79', 280)" class="i">r</span>
    | <span onmouseout="hideTip(event, 'fs102', 281)" onmouseover="showTip(event, 'fs102', 281)" class="p">Branch</span>(<span onmouseout="hideTip(event, 'fs119', 282)" onmouseover="showTip(event, 'fs119', 282)" class="i">l</span>,<span onmouseout="hideTip(event, 'fs120', 283)" onmouseover="showTip(event, 'fs120', 283)" class="i">r</span>) <span class="k">-&gt;</span>
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs79', 284)" onmouseover="showTip(event, 'fs79', 284)" class="i">r</span>,<span onmouseout="hideTip(event, 'fs80', 285)" onmouseover="showTip(event, 'fs80', 285)" class="i">r&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs113', 286)" onmouseover="showTip(event, 'fs113', 286)" class="f">reduce</span> <span onmouseout="hideTip(event, 'fs114', 287)" onmouseover="showTip(event, 'fs114', 287)" class="i">id</span> <span onmouseout="hideTip(event, 'fs115', 288)" onmouseover="showTip(event, 'fs115', 288)" class="f">reduceF</span> <span onmouseout="hideTip(event, 'fs119', 289)" onmouseover="showTip(event, 'fs119', 289)" class="i">l</span> <span class="o">&lt;||&gt;</span> <span onmouseout="hideTip(event, 'fs113', 290)" onmouseover="showTip(event, 'fs113', 290)" class="f">reduce</span> <span onmouseout="hideTip(event, 'fs114', 291)" onmouseover="showTip(event, 'fs114', 291)" class="i">id</span> <span onmouseout="hideTip(event, 'fs115', 292)" onmouseover="showTip(event, 'fs115', 292)" class="f">reduceF</span> <span onmouseout="hideTip(event, 'fs120', 293)" onmouseover="showTip(event, 'fs120', 293)" class="i">r</span> 
        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs115', 294)" onmouseover="showTip(event, 'fs115', 294)" class="f">reduceF</span> <span onmouseout="hideTip(event, 'fs79', 295)" onmouseover="showTip(event, 'fs79', 295)" class="i">r</span> <span onmouseout="hideTip(event, 'fs80', 296)" onmouseover="showTip(event, 'fs80', 296)" class="i">r&#39;</span>
}
</pre>
</td>
</tr>
</table>

<p>The above functions enable distributed workflows that are 
driven by the structural properties of the cloud tree.</p>

<h3><a name="Cloud-Sequences-and-Cloud-Vectors" class="anchor" href="#Cloud-Sequences-and-Cloud-Vectors">Cloud Sequences and Cloud Vectors</a></h3>

<p>While cloud cells are useful for storing relatively small chunks of data, 
they might not scale well when it comes to large collections of objects.
Evaluating a cloud cell that points to a big array may place unnecessary 
memory strain on the runtime. For that reason, mbrace offers the <code>CloudSequence</code> 
primitive, a construct similar to the CloudCell that offers access to a collection 
of values with on-demand fetching semantics. The CloudSequence type
is immutable and by default may be cached on local worker nodes, 
just like <code>CloudCell</code>.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">/// Download the page and store it as a new cloud sequence of lines</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs121', 297)" onmouseover="showTip(event, 'fs121', 297)" class="f">storePagesInCloudSequence</span> (<span onmouseout="hideTip(event, 'fs36', 298)" onmouseover="showTip(event, 'fs36', 298)" class="i">url</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs37', 299)" onmouseover="showTip(event, 'fs37', 299)" class="t">string</span>) <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs11', 300)" onmouseover="showTip(event, 'fs11', 300)" class="i">cloud</span> {
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs122', 301)" onmouseover="showTip(event, 'fs122', 301)" class="i">lines</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs50', 302)" onmouseover="showTip(event, 'fs50', 302)" class="f">downloadCloud</span> <span onmouseout="hideTip(event, 'fs36', 303)" onmouseover="showTip(event, 'fs36', 303)" class="i">url</span>
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs123', 304)" onmouseover="showTip(event, 'fs123', 304)" class="i">cseq</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs124', 305)" onmouseover="showTip(event, 'fs124', 305)" class="t">CloudSequence</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs125', 306)" onmouseover="showTip(event, 'fs125', 306)" class="f">New</span> <span onmouseout="hideTip(event, 'fs122', 307)" onmouseover="showTip(event, 'fs122', 307)" class="i">lines</span>
        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs123', 308)" onmouseover="showTip(event, 'fs123', 308)" class="i">cseq</span>
    }
</pre>
</td>
</tr>
</table>

<p>A cloud sequence is still read linearly. To create a partitioned array of data
you can create a <code>CloudVector</code> from one of more cloud sequences, each of
which acts as a partition.  Cloud vectors can be merged (merging partitions).</p>

<p>A cloud vector is logically just a single, partitioned cloud sequence.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">/// Download the pages and store them as a new single cloud vector of all the</span>
<span class="c">/// lines in all the pages, partitioned by page.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs126', 309)" onmouseover="showTip(event, 'fs126', 309)" class="f">storePagesInCloudVector</span> (<span onmouseout="hideTip(event, 'fs127', 310)" onmouseover="showTip(event, 'fs127', 310)" class="i">urls</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs37', 311)" onmouseover="showTip(event, 'fs37', 311)" class="t">string</span> <span onmouseout="hideTip(event, 'fs73', 312)" onmouseover="showTip(event, 'fs73', 312)" class="t">list</span>) <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs11', 313)" onmouseover="showTip(event, 'fs11', 313)" class="i">cloud</span> {
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs128', 314)" onmouseover="showTip(event, 'fs128', 314)" class="i">results</span> <span class="o">=</span> 
            <span onmouseout="hideTip(event, 'fs127', 315)" onmouseover="showTip(event, 'fs127', 315)" class="i">urls</span> 
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs78', 316)" onmouseover="showTip(event, 'fs78', 316)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs57', 317)" onmouseover="showTip(event, 'fs57', 317)" class="f">map</span> <span onmouseout="hideTip(event, 'fs121', 318)" onmouseover="showTip(event, 'fs121', 318)" class="f">storePagesInCloudSequence</span> 
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 319)" onmouseover="showTip(event, 'fs30', 319)" class="t">Cloud</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 320)" onmouseover="showTip(event, 'fs55', 320)" class="f">Parallel</span>

        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs129', 321)" onmouseover="showTip(event, 'fs129', 321)" class="i">cv</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs130', 322)" onmouseover="showTip(event, 'fs130', 322)" class="t">CloudVector</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs131', 323)" onmouseover="showTip(event, 'fs131', 323)" class="f">OfPartitions</span> <span onmouseout="hideTip(event, 'fs128', 324)" onmouseover="showTip(event, 'fs128', 324)" class="i">results</span>

        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs129', 325)" onmouseover="showTip(event, 'fs129', 325)" class="i">cv</span>
    }
</pre>
</td>
</tr>
</table>

<h3><a name="Cloud-Files" class="anchor" href="#Cloud-Files">Cloud Files</a></h3>

<p>Like cloud cells, sequences and vectors, CloudFile is an immutable storage primitive 
that a references a file saved in the global store. 
In other words, it is an interface for storing or accessing binary blobs in the runtime.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs132', 326)" onmouseover="showTip(event, 'fs132', 326)" class="i">Nessos</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs133', 327)" onmouseover="showTip(event, 'fs133', 327)" class="i">FsPickler</span>

<span onmouseout="hideTip(event, 'fs11', 328)" onmouseover="showTip(event, 'fs11', 328)" class="i">cloud</span> {
    <span class="c">// enumerate all files from underlying storage container</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs134', 329)" onmouseover="showTip(event, 'fs134', 329)" class="i">files</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs135', 330)" onmouseover="showTip(event, 'fs135', 330)" class="t">CloudFile</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs136', 331)" onmouseover="showTip(event, 'fs136', 331)" class="f">Enumerate</span> <span class="s">&quot;path/to/container&quot;</span>

    <span class="c">// read a cloud file and return its word count</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs137', 332)" onmouseover="showTip(event, 'fs137', 332)" class="f">wordCount</span> (<span onmouseout="hideTip(event, 'fs138', 333)" onmouseover="showTip(event, 'fs138', 333)" class="i">f</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs135', 334)" onmouseover="showTip(event, 'fs135', 334)" class="t">CloudFile</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 335)" onmouseover="showTip(event, 'fs11', 335)" class="i">cloud</span> {
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs139', 336)" onmouseover="showTip(event, 'fs139', 336)" class="i">text</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs135', 337)" onmouseover="showTip(event, 'fs135', 337)" class="t">CloudFile</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs140', 338)" onmouseover="showTip(event, 'fs140', 338)" class="f">ReadAllText</span> <span onmouseout="hideTip(event, 'fs138', 339)" onmouseover="showTip(event, 'fs138', 339)" class="i">f</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs141', 340)" onmouseover="showTip(event, 'fs141', 340)" class="i">count</span> <span class="o">=</span>
            <span onmouseout="hideTip(event, 'fs139', 341)" onmouseover="showTip(event, 'fs139', 341)" class="i">text</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs45', 342)" onmouseover="showTip(event, 'fs45', 342)" class="f">Split</span>(<span class="s">&#39; &#39;</span>)
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs142', 343)" onmouseover="showTip(event, 'fs142', 343)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 344)" onmouseover="showTip(event, 'fs143', 344)" class="f">groupBy</span> <span onmouseout="hideTip(event, 'fs144', 345)" onmouseover="showTip(event, 'fs144', 345)" class="f">id</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs142', 346)" onmouseover="showTip(event, 'fs142', 346)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs145', 347)" onmouseover="showTip(event, 'fs145', 347)" class="f">map</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs146', 348)" onmouseover="showTip(event, 'fs146', 348)" class="i">token</span>,<span onmouseout="hideTip(event, 'fs147', 349)" onmouseover="showTip(event, 'fs147', 349)" class="i">instances</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs146', 350)" onmouseover="showTip(event, 'fs146', 350)" class="i">token</span>, <span onmouseout="hideTip(event, 'fs142', 351)" onmouseover="showTip(event, 'fs142', 351)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs148', 352)" onmouseover="showTip(event, 'fs148', 352)" class="f">length</span> <span onmouseout="hideTip(event, 'fs147', 353)" onmouseover="showTip(event, 'fs147', 353)" class="i">instances</span>)
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs142', 354)" onmouseover="showTip(event, 'fs142', 354)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs149', 355)" onmouseover="showTip(event, 'fs149', 355)" class="f">toArray</span>

        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs138', 356)" onmouseover="showTip(event, 'fs138', 356)" class="i">f</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs150', 357)" onmouseover="showTip(event, 'fs150', 357)" class="i">Path</span>, <span class="i">count</span>
    }

    <span class="c">// perform computation in parallel</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs151', 358)" onmouseover="showTip(event, 'fs151', 358)" class="i">results</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs134', 359)" onmouseover="showTip(event, 'fs134', 359)" class="i">files</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs58', 360)" onmouseover="showTip(event, 'fs58', 360)" class="t">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs152', 361)" onmouseover="showTip(event, 'fs152', 361)" class="f">map</span> <span onmouseout="hideTip(event, 'fs137', 362)" onmouseover="showTip(event, 'fs137', 362)" class="f">wordCount</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 363)" onmouseover="showTip(event, 'fs30', 363)" class="t">Cloud</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 364)" onmouseover="showTip(event, 'fs55', 364)" class="f">Parallel</span>

    <span class="c">// persist results to a new Cloud file in XML format</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs153', 365)" onmouseover="showTip(event, 'fs153', 365)" class="i">serializer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs154', 366)" onmouseover="showTip(event, 'fs154', 366)" class="t">FsPickler</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs155', 367)" onmouseover="showTip(event, 'fs155', 367)" class="f">CreateXml</span>()
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs156', 368)" onmouseover="showTip(event, 'fs156', 368)" class="i">file</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs135', 369)" onmouseover="showTip(event, 'fs135', 369)" class="t">CloudFile</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs157', 370)" onmouseover="showTip(event, 'fs157', 370)" class="f">Create</span>(<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs158', 371)" onmouseover="showTip(event, 'fs158', 371)" class="i">fs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs38', 372)" onmouseover="showTip(event, 'fs38', 372)" class="i">async</span> { <span class="k">return</span> <span onmouseout="hideTip(event, 'fs153', 373)" onmouseover="showTip(event, 'fs153', 373)" class="i">serializer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs159', 374)" onmouseover="showTip(event, 'fs159', 374)" class="f">Serialize</span>(<span onmouseout="hideTip(event, 'fs158', 375)" onmouseover="showTip(event, 'fs158', 375)" class="i">fs</span>, <span onmouseout="hideTip(event, 'fs151', 376)" onmouseover="showTip(event, 'fs151', 376)" class="i">results</span>) })
    <span class="k">return</span> <span class="i">file</span>
}
</pre>
</td>
</tr>
</table>

<h3><a name="Mutable-cloud-cells" class="anchor" href="#Mutable-cloud-cells">Mutable cloud cells[CloudAtom]</a></h3>

<p>The <code>CloudAtom</code> primitive is, similarly to the CloudCell, 
a reference to data saved in the underlying storage provider. 
However,</p>

<ul>
<li><p>CloudAtoms are mutable. The value of a cloud atom can be updated and, as a result,
its values are never cached. Mutable cloud cells can be updated conditionally using the
<code>CloudAtom.Set</code> methods or forcibly using the <code>CloudAtom.Force</code> method.</p></li>
<li><p>CloudAtoms can be deallocated manually. This can be done using the <code>CloudAtom.Free</code> method.</p></li>
</ul>

<p>The CloudAtom is a powerful primitive that can be used to create runtime-wide synchronization 
mechanisms like locks, semaphores, etc.</p>

<p>The following demonstrates simple use of the cloud atom:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs160', 377)" onmouseover="showTip(event, 'fs160', 377)" class="f">race</span> () <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 378)" onmouseover="showTip(event, 'fs11', 378)" class="i">cloud</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs161', 379)" onmouseover="showTip(event, 'fs161', 379)" class="i">mr</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs162', 380)" onmouseover="showTip(event, 'fs162', 380)" class="t">CloudAtom</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs163', 381)" onmouseover="showTip(event, 'fs163', 381)" class="f">New</span>(<span class="n">0</span>)
    <span class="k">let!</span> _ <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs162', 382)" onmouseover="showTip(event, 'fs162', 382)" class="t">CloudAtom</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs164', 383)" onmouseover="showTip(event, 'fs164', 383)" class="f">Force</span>(<span onmouseout="hideTip(event, 'fs161', 384)" onmouseover="showTip(event, 'fs161', 384)" class="i">mr</span>,<span class="n">1</span>)
            <span class="o">&lt;||&gt;</span>
        <span onmouseout="hideTip(event, 'fs162', 385)" onmouseover="showTip(event, 'fs162', 385)" class="t">CloudAtom</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs164', 386)" onmouseover="showTip(event, 'fs164', 386)" class="f">Force</span>(<span onmouseout="hideTip(event, 'fs161', 387)" onmouseover="showTip(event, 'fs161', 387)" class="i">mr</span>,<span class="n">2</span>)

    <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs162', 388)" onmouseover="showTip(event, 'fs162', 388)" class="t">CloudAtom</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs165', 389)" onmouseover="showTip(event, 'fs165', 389)" class="f">Read</span>(<span onmouseout="hideTip(event, 'fs161', 390)" onmouseover="showTip(event, 'fs161', 390)" class="i">mr</span>)
}
</pre>
</td>
</tr>
</table>

<p>The snippet will return a result of either 1 or 2, depending on which update operation was run last.</p>

<p>The following snippet implements an transactionally incrementing function acting on a cloud atom:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs166', 391)" onmouseover="showTip(event, 'fs166', 391)" class="f">increment</span> (<span onmouseout="hideTip(event, 'fs167', 392)" onmouseover="showTip(event, 'fs167', 392)" class="i">counter</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs168', 393)" onmouseover="showTip(event, 'fs168', 393)" class="t">ICloudAtom</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs169', 394)" onmouseover="showTip(event, 'fs169', 394)" class="t">int</span><span class="o">&gt;</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 395)" onmouseover="showTip(event, 'fs11', 395)" class="i">cloud</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs170', 396)" onmouseover="showTip(event, 'fs170', 396)" class="i">v</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs162', 397)" onmouseover="showTip(event, 'fs162', 397)" class="t">CloudAtom</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs165', 398)" onmouseover="showTip(event, 'fs165', 398)" class="f">Read</span> <span onmouseout="hideTip(event, 'fs167', 399)" onmouseover="showTip(event, 'fs167', 399)" class="i">counter</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs171', 400)" onmouseover="showTip(event, 'fs171', 400)" class="i">ok</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs162', 401)" onmouseover="showTip(event, 'fs162', 401)" class="t">CloudAtom</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs172', 402)" onmouseover="showTip(event, 'fs172', 402)" class="f">Transact</span>(<span onmouseout="hideTip(event, 'fs167', 403)" onmouseover="showTip(event, 'fs167', 403)" class="i">counter</span>, (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs170', 404)" onmouseover="showTip(event, 'fs170', 404)" class="i">v</span> <span class="k">-&gt;</span> <span class="k">true</span>, <span onmouseout="hideTip(event, 'fs170', 405)" onmouseover="showTip(event, 'fs170', 405)" class="i">v</span> <span class="o">+</span> <span class="n">1</span>))
    <span class="k">return</span> <span class="i">ok</span>
}
</pre>
</td>
</tr>
</table>

<h2><a name="Misc-Primitives" class="anchor" href="#Misc-Primitives">Misc Primitives</a></h2>

<p>In this section we describe some of the other 
<a href="reference/nessos-mbrace-cloud.html">primitives</a> offered by MBrace.</p>

<ul>
<li><p><code>Cloud.GetWorkerCount</code> : Returns the current number of cluster nodes as reported by the runtime.</p></li>
<li><p><code>Cloud.GetProcessId</code> : Gets the runtime-assigned cloud process id for the currently executing workflow.</p></li>
<li><p><code>Cloud.Log</code> : appends an entry to the cloud process log; this operation introduces runtime communication.</p></li>
<li><code>Cloud.Trace</code> : Dynamically wraps a cloud computation so that trace information is included with
the user logs. Workflows carrying the <code>NoTraceInfo</code> attribute are excluded.</li>
</ul>

<p>For more information and examples on the programming model, please refer to the 
<a href="mbrace-manual.pdf">MBrace manual</a>.</p>

<div class="tip" id="fs1">namespace MBrace</div>
<div class="tip" id="fs2">namespace MBrace.Workflows</div>
<div class="tip" id="fs3">namespace MBrace.Azure</div>
<div class="tip" id="fs4">namespace MBrace.Azure.Client</div>
<div class="tip" id="fs5">namespace MBrace.Streams</div>
<div class="tip" id="fs6">val config : Configuration<br /><br />Full name: Programming-model.config</div>
<div class="tip" id="fs7">module Unchecked<br /><br />from Microsoft.FSharp.Core.Operators</div>
<div class="tip" id="fs8">val defaultof&lt;&#39;T&gt; : &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.Unchecked.defaultof</div>
<div class="tip" id="fs9">type Configuration =<br />&#160;&#160;{Id: uint16;<br />&#160;&#160;&#160;StorageConnectionString: string;<br />&#160;&#160;&#160;ServiceBusConnectionString: string;<br />&#160;&#160;&#160;RuntimeQueue: string;<br />&#160;&#160;&#160;RuntimeTopic: string;<br />&#160;&#160;&#160;RuntimeContainer: string;<br />&#160;&#160;&#160;RuntimeTable: string;<br />&#160;&#160;&#160;RuntimeLogsTable: string;<br />&#160;&#160;&#160;UserDataContainer: string;<br />&#160;&#160;&#160;UserDataTable: string;}<br />&#160;&#160;member WithId : id:uint16 -&gt; Configuration<br />&#160;&#160;member WithRuntimeFolders : runtimeQueue:string * runtimeTopic:string * runtimeContainer:string * runtimeTable:string * runtimeLogsTable:string * userDataContainer:string * userDataTable:string -&gt; Configuration<br />&#160;&#160;member WithServiceBusConnectionString : conn:string -&gt; Configuration<br />&#160;&#160;member WithStorageConnectionString : conn:string -&gt; Configuration<br />&#160;&#160;member ConfigurationId : ConfigurationId<br />&#160;&#160;member WithAppendedId : Configuration<br />&#160;&#160;static member Default : Configuration<br /><br />Full name: MBrace.Azure.Configuration</div>
<div class="tip" id="fs10">val myFirstCloudWorkflow : Cloud&lt;int&gt;<br /><br />Full name: Programming-model.myFirstCloudWorkflow</div>
<div class="tip" id="fs11">val cloud : CloudBuilder<br /><br />Full name: MBrace.Builders.cloud</div>
<div class="tip" id="fs12">val mySecondCloudWorkflow : Cloud&lt;unit&gt;<br /><br />Full name: Programming-model.mySecondCloudWorkflow</div>
<div class="tip" id="fs13">val now : System.DateTime</div>
<div class="tip" id="fs14">namespace System</div>
<div class="tip" id="fs15">Multiple items<br />type DateTime =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : ticks:int64 -&gt; DateTime + 10 overloads<br />&#160;&#160;&#160;&#160;member Add : value:TimeSpan -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddDays : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddHours : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMilliseconds : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMinutes : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMonths : months:int -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddSeconds : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddTicks : value:int64 -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddYears : value:int -&gt; DateTime<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: System.DateTime<br /><br />--------------------<br />System.DateTime()<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(ticks: int64) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(ticks: int64, kind: System.DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, calendar: System.Globalization.Calendar) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, kind: System.DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, calendar: System.Globalization.Calendar) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int, kind: System.DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="tip" id="fs16">property System.DateTime.Now: System.DateTime</div>
<div class="tip" id="fs17">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.printfn</div>
<div class="tip" id="fs18">val first : Cloud&lt;int&gt;<br /><br />Full name: Programming-model.first</div>
<div class="tip" id="fs19">val second : Cloud&lt;int&gt;<br /><br />Full name: Programming-model.second</div>
<div class="tip" id="fs20">val x : int</div>
<div class="tip" id="fs21">val y : int</div>
<div class="tip" id="fs22">val foldLeftCloud : f:(&#39;a -&gt; &#39;b -&gt; #Cloud&lt;&#39;a&gt;) -&gt; state:&#39;a -&gt; ts:&#39;b list -&gt; Cloud&lt;&#39;a&gt;<br /><br />Full name: Programming-model.foldLeftCloud<br /><em><br /><br />&#160;Sequentially fold along a set of jobs</em></div>
<div class="tip" id="fs23">val f : (&#39;a -&gt; &#39;b -&gt; #Cloud&lt;&#39;a&gt;)</div>
<div class="tip" id="fs24">val state : &#39;a</div>
<div class="tip" id="fs25">val ts : &#39;b list</div>
<div class="tip" id="fs26">val t : &#39;b</div>
<div class="tip" id="fs27">val ts&#39; : &#39;b list</div>
<div class="tip" id="fs28">val s&#39; : &#39;a</div>
<div class="tip" id="fs29">val i : int</div>
<div class="tip" id="fs30">Multiple items<br />module Cloud<br /><br />from MBrace.Workflows<br /><br />--------------------<br />type Cloud =<br />&#160;&#160;static member AsLocal : workflow:Cloud&lt;&#39;T&gt; -&gt; Local&lt;&#39;T&gt;<br />&#160;&#160;static member AwaitCloudTask : task:ICloudTask&lt;&#39;T&gt; * ?timeoutMilliseconds:int -&gt; Local&lt;&#39;T&gt;<br />&#160;&#160;static member AwaitTask : task:Task&lt;&#39;T&gt; * ?timeoutMilliseconds:int -&gt; Local&lt;&#39;T&gt;<br />&#160;&#160;static member Catch : workflow:Cloud&lt;&#39;T&gt; -&gt; Cloud&lt;Choice&lt;&#39;T,exn&gt;&gt;<br />&#160;&#160;static member Choice : computations:seq&lt;#Cloud&lt;&#39;T option&gt; * IWorkerRef&gt; -&gt; Cloud&lt;&#39;T option&gt;<br />&#160;&#160;static member Choice : computations:seq&lt;#Cloud&lt;&#39;T option&gt;&gt; -&gt; Cloud&lt;&#39;T option&gt;<br />&#160;&#160;static member ChoiceEverywhere : computation:Cloud&lt;&#39;T option&gt; -&gt; Cloud&lt;&#39;T option&gt;<br />&#160;&#160;static member CreateCancellationTokenSource : unit -&gt; Local&lt;ICloudCancellationTokenSource&gt;<br />&#160;&#160;static member CreateLinkedCancellationTokenSource : tokens:seq&lt;ICloudCancellationToken&gt; -&gt; Local&lt;ICloudCancellationTokenSource&gt;<br />&#160;&#160;static member CreateLinkedCancellationTokenSource : ?parent:ICloudCancellationToken -&gt; Local&lt;ICloudCancellationTokenSource&gt;<br />&#160;&#160;...<br /><br />Full name: MBrace.Cloud<br /><br />--------------------<br />type Cloud&lt;&#39;T&gt; =<br />&#160;&#160;private new : body:Body&lt;&#39;T&gt; -&gt; Cloud&lt;&#39;T&gt;<br />&#160;&#160;val mutable private body: Body&lt;&#39;T&gt;<br />&#160;&#160;member private Body : Body&lt;&#39;T&gt;<br /><br />Full name: MBrace.Cloud&lt;_&gt;<br /><br />--------------------<br />type CloudAttribute = ReflectedDefinitionAttribute<br /><br />Full name: MBrace.CloudAttribute</div>
<div class="tip" id="fs31">static member Cloud.Logf : fmt:Printf.StringFormat&lt;&#39;a0,Local&lt;unit&gt;&gt; -&gt; &#39;a0</div>
<div class="tip" id="fs32">static member Cloud.Sleep : millisecondsDue:int -&gt; Local&lt;unit&gt;</div>
<div class="tip" id="fs33">static member Cloud.Log : logEntry:string -&gt; Local&lt;unit&gt;</div>
<div class="tip" id="fs34">Multiple items<br />type DivideByZeroException =<br />&#160;&#160;inherit ArithmeticException<br />&#160;&#160;new : unit -&gt; DivideByZeroException + 2 overloads<br /><br />Full name: System.DivideByZeroException<br /><br />--------------------<br />System.DivideByZeroException() : unit<br />System.DivideByZeroException(message: string) : unit<br />System.DivideByZeroException(message: string, innerException: exn) : unit</div>
<div class="tip" id="fs35">val downloadAsync : url:string -&gt; Async&lt;string []&gt;<br /><br />Full name: Programming-model.downloadAsync<br /><em><br /><br />&#160;Sequentially iterate and loop </em></div>
<div class="tip" id="fs36">val url : string</div>
<div class="tip" id="fs37">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs38">val async : AsyncBuilder<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.async</div>
<div class="tip" id="fs39">val webClient : System.Net.WebClient</div>
<div class="tip" id="fs40">namespace System.Net</div>
<div class="tip" id="fs41">Multiple items<br />type WebClient =<br />&#160;&#160;inherit Component<br />&#160;&#160;new : unit -&gt; WebClient<br />&#160;&#160;member BaseAddress : string with get, set<br />&#160;&#160;member CachePolicy : RequestCachePolicy with get, set<br />&#160;&#160;member CancelAsync : unit -&gt; unit<br />&#160;&#160;member Credentials : ICredentials with get, set<br />&#160;&#160;member DownloadData : address:string -&gt; byte[] + 1 overload<br />&#160;&#160;member DownloadDataAsync : address:Uri -&gt; unit + 1 overload<br />&#160;&#160;member DownloadFile : address:string * fileName:string -&gt; unit + 1 overload<br />&#160;&#160;member DownloadFileAsync : address:Uri * fileName:string -&gt; unit + 1 overload<br />&#160;&#160;member DownloadString : address:string -&gt; string + 1 overload<br />&#160;&#160;...<br /><br />Full name: System.Net.WebClient<br /><br />--------------------<br />System.Net.WebClient() : unit</div>
<div class="tip" id="fs42">val html : string</div>
<div class="tip" id="fs43">member System.Net.WebClient.AsyncDownloadString : address:System.Uri -&gt; Async&lt;string&gt;</div>
<div class="tip" id="fs44">Multiple items<br />type Uri =<br />&#160;&#160;new : uriString:string -&gt; Uri + 5 overloads<br />&#160;&#160;member AbsolutePath : string<br />&#160;&#160;member AbsoluteUri : string<br />&#160;&#160;member Authority : string<br />&#160;&#160;member DnsSafeHost : string<br />&#160;&#160;member Equals : comparand:obj -&gt; bool<br />&#160;&#160;member Fragment : string<br />&#160;&#160;member GetComponents : components:UriComponents * format:UriFormat -&gt; string<br />&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;member GetLeftPart : part:UriPartial -&gt; string<br />&#160;&#160;...<br /><br />Full name: System.Uri<br /><br />--------------------<br />System.Uri(uriString: string) : unit<br />System.Uri(uriString: string, uriKind: System.UriKind) : unit<br />System.Uri(baseUri: System.Uri, relativeUri: string) : unit<br />System.Uri(baseUri: System.Uri, relativeUri: System.Uri) : unit</div>
<div class="tip" id="fs45">System.String.Split(params separator: char []) : string []<br />System.String.Split(separator: string [], options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], count: int) : string []<br />System.String.Split(separator: string [], count: int, options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], count: int, options: System.StringSplitOptions) : string []</div>
<div class="tip" id="fs46">val t1 : string []</div>
<div class="tip" id="fs47">static member Cloud.OfAsync : asyncWorkflow:Async&lt;&#39;T&gt; -&gt; Local&lt;&#39;T&gt;</div>
<div class="tip" id="fs48">val t2 : string []</div>
<div class="tip" id="fs49">property System.Array.Length: int</div>
<div class="tip" id="fs50">val downloadCloud : url:string -&gt; Local&lt;string []&gt;<br /><br />Full name: Programming-model.downloadCloud</div>
<div class="tip" id="fs51">val sqr : (int -&gt; Cloud&lt;int&gt;)</div>
<div class="tip" id="fs52">val N : int</div>
<div class="tip" id="fs53">Multiple items<br />type Random =<br />&#160;&#160;new : unit -&gt; Random + 1 overload<br />&#160;&#160;member Next : unit -&gt; int + 2 overloads<br />&#160;&#160;member NextBytes : buffer:byte[] -&gt; unit<br />&#160;&#160;member NextDouble : unit -&gt; float<br /><br />Full name: System.Random<br /><br />--------------------<br />System.Random() : unit<br />System.Random(Seed: int) : unit</div>
<div class="tip" id="fs54">val results : int []</div>
<div class="tip" id="fs55">static member Cloud.Parallel : computations:seq&lt;#Cloud&lt;&#39;T&gt; * IWorkerRef&gt; -&gt; Cloud&lt;&#39;T []&gt;<br />static member Cloud.Parallel : computations:seq&lt;#Cloud&lt;&#39;T&gt;&gt; -&gt; Cloud&lt;&#39;T []&gt;<br />static member Cloud.Parallel : left:Cloud&lt;&#39;L&gt; * right:Cloud&lt;&#39;R&gt; -&gt; Cloud&lt;&#39;L * &#39;R&gt;</div>
<div class="tip" id="fs56">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs57">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><br />Full name: Microsoft.FSharp.Collections.List.map</div>
<div class="tip" id="fs58">Multiple items<br />module Array<br /><br />from MBrace.Utils<br /><br />--------------------<br />module Array<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs59">val sum : array:&#39;T [] -&gt; &#39;T (requires member ( + ) and member get_Zero)<br /><br />Full name: Microsoft.FSharp.Collections.Array.sum</div>
<div class="tip" id="fs60">val results : string [] []</div>
<div class="tip" id="fs61">val sumBy : projection:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U (requires member ( + ) and member get_Zero)<br /><br />Full name: Microsoft.FSharp.Collections.Array.sumBy</div>
<div class="tip" id="fs62">val r : string []</div>
<div class="tip" id="fs63">Multiple items<br />type WebException =<br />&#160;&#160;inherit InvalidOperationException<br />&#160;&#160;new : unit -&gt; WebException + 4 overloads<br />&#160;&#160;member GetObjectData : serializationInfo:SerializationInfo * streamingContext:StreamingContext -&gt; unit<br />&#160;&#160;member Response : WebResponse<br />&#160;&#160;member Status : WebExceptionStatus<br /><br />Full name: System.Net.WebException<br /><br />--------------------<br />System.Net.WebException() : unit<br />System.Net.WebException(message: string) : unit<br />System.Net.WebException(message: string, innerException: exn) : unit<br />System.Net.WebException(message: string, status: System.Net.WebExceptionStatus) : unit<br />System.Net.WebException(message: string, innerException: exn, status: System.Net.WebExceptionStatus, response: System.Net.WebResponse) : unit</div>
<div class="tip" id="fs64">val e : System.Net.WebException</div>
<div class="tip" id="fs65">val raise : exn:System.Exception -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.raise</div>
<div class="tip" id="fs66">val split : ts:&#39;a -&gt; &#39;a * &#39;a<br /><br />Full name: Programming-model.List.split<br /><em><br /><br />&#160;splits a list into two halves</em></div>
<div class="tip" id="fs67">val ts : &#39;a</div>
<div class="tip" id="fs68">val mapReduce : map:(&#39;T -&gt; &#39;R) -&gt; reduce:(&#39;R -&gt; &#39;R -&gt; &#39;R) -&gt; identity:&#39;R -&gt; inputs:&#39;T list -&gt; Cloud&lt;&#39;R&gt;<br /><br />Full name: Programming-model.mapReduce</div>
<div class="tip" id="fs69">val map : (&#39;T -&gt; &#39;R)</div>
<div class="tip" id="fs70">val reduce : (&#39;R -&gt; &#39;R -&gt; &#39;R)</div>
<div class="tip" id="fs71">val identity : &#39;R</div>
<div class="tip" id="fs72">val inputs : &#39;T list</div>
<div class="tip" id="fs73">type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>
<div class="tip" id="fs74">val aux : (&#39;T list -&gt; Cloud&lt;&#39;R&gt;)</div>
<div class="tip" id="fs75">val t : &#39;T</div>
<div class="tip" id="fs76">val left : &#39;T list</div>
<div class="tip" id="fs77">val right : &#39;T list</div>
<div class="tip" id="fs78">Multiple items<br />module List<br /><br />from Programming-model<br /><br />--------------------<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs79">val r : &#39;R</div>
<div class="tip" id="fs80">val r&#39; : &#39;R</div>
<div class="tip" id="fs81">val tryFind : f:(&#39;T -&gt; bool) -&gt; ts:&#39;T list -&gt; Cloud&lt;&#39;T option&gt;<br /><br />Full name: Programming-model.tryFind</div>
<div class="tip" id="fs82">val f : (&#39;T -&gt; bool)</div>
<div class="tip" id="fs83">type bool = System.Boolean<br /><br />Full name: Microsoft.FSharp.Core.bool</div>
<div class="tip" id="fs84">val ts : &#39;T list</div>
<div class="tip" id="fs85">val select : (&#39;T -&gt; Cloud&lt;&#39;T option&gt;)</div>
<div class="tip" id="fs86">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs87">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs88">static member Cloud.Choice : computations:seq&lt;#Cloud&lt;&#39;T option&gt; * IWorkerRef&gt; -&gt; Cloud&lt;&#39;T option&gt;<br />static member Cloud.Choice : computations:seq&lt;#Cloud&lt;&#39;T option&gt;&gt; -&gt; Cloud&lt;&#39;T option&gt;</div>
<div class="tip" id="fs89">val getTextCell : unit -&gt; Cloud&lt;CloudCell&lt;string []&gt;&gt;<br /><br />Full name: Programming-model.getTextCell</div>
<div class="tip" id="fs90">val text : string []</div>
<div class="tip" id="fs91">val cref : CloudCell&lt;string []&gt;</div>
<div class="tip" id="fs92">Multiple items<br />type CloudCell =<br />&#160;&#160;static member Cache : cloudCell:CloudCell&lt;&#39;T&gt; -&gt; Local&lt;bool&gt;<br />&#160;&#160;static member Dispose : cloudCell:CloudCell&lt;&#39;T&gt; -&gt; Local&lt;unit&gt;<br />&#160;&#160;static member FromFile : path:string * deserializer:(Stream -&gt; &#39;T) * ?force:bool -&gt; Local&lt;CloudCell&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member FromTextFile : path:string * textDeserializer:(StreamReader -&gt; &#39;T) * ?encoding:Encoding * ?force:bool -&gt; Local&lt;CloudCell&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member New : value:&#39;T * ?directory:string * ?serializer:ISerializer -&gt; Local&lt;CloudCell&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member Parse : path:string * ?serializer:ISerializer * ?force:bool -&gt; Local&lt;CloudCell&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member Read : cloudCell:CloudCell&lt;&#39;T&gt; -&gt; Local&lt;&#39;T&gt;<br /><br />Full name: MBrace.CloudCell<br /><br />--------------------<br />type CloudCell&lt;&#39;T&gt; =<br />&#160;&#160;interface ICloudStorageEntity<br />&#160;&#160;interface ICloudDisposable<br />&#160;&#160;private new : path:string * serializer:ISerializer option -&gt; CloudCell&lt;&#39;T&gt;<br />&#160;&#160;val mutable private path: string<br />&#160;&#160;val mutable private uuid: string<br />&#160;&#160;val mutable private serializer: ISerializer option<br />&#160;&#160;member private GetValueFromStore : config:CloudFileStoreConfiguration -&gt; Async&lt;&#39;T&gt;<br />&#160;&#160;member PopulateCache : unit -&gt; Local&lt;bool&gt;<br />&#160;&#160;override ToString : unit -&gt; string<br />&#160;&#160;member IsCachedLocally : Local&lt;bool&gt;<br />&#160;&#160;...<br /><br />Full name: MBrace.CloudCell&lt;_&gt;</div>
<div class="tip" id="fs93">static member CloudCell.New : value:&#39;T * ?directory:string * ?serializer:Store.ISerializer -&gt; Local&lt;CloudCell&lt;&#39;T&gt;&gt;</div>
<div class="tip" id="fs94">val dereference : data:CloudCell&lt;byte []&gt; -&gt; Cloud&lt;byte []&gt;<br /><br />Full name: Programming-model.dereference</div>
<div class="tip" id="fs95">val data : CloudCell&lt;byte []&gt;</div>
<div class="tip" id="fs96">Multiple items<br />val byte : value:&#39;T -&gt; byte (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.byte<br /><br />--------------------<br />type byte = System.Byte<br /><br />Full name: Microsoft.FSharp.Core.byte</div>
<div class="tip" id="fs97">val v : byte []</div>
<div class="tip" id="fs98">property CloudCell.Value: Local&lt;byte []&gt;</div>
<div class="tip" id="fs99">type CloudTree&lt;&#39;T&gt; =<br />&#160;&#160;| Empty<br />&#160;&#160;| Leaf of &#39;T<br />&#160;&#160;| Branch of TreeRef&lt;&#39;T&gt; * TreeRef&lt;&#39;T&gt;<br /><br />Full name: Programming-model.CloudTree&lt;_&gt;</div>
<div class="tip" id="fs100">union case CloudTree.Empty: CloudTree&lt;&#39;T&gt;</div>
<div class="tip" id="fs101">union case CloudTree.Leaf: &#39;T -&gt; CloudTree&lt;&#39;T&gt;</div>
<div class="tip" id="fs102">union case CloudTree.Branch: TreeRef&lt;&#39;T&gt; * TreeRef&lt;&#39;T&gt; -&gt; CloudTree&lt;&#39;T&gt;</div>
<div class="tip" id="fs103">type TreeRef&lt;&#39;T&gt; = CloudCell&lt;CloudTree&lt;&#39;T&gt;&gt;<br /><br />Full name: Programming-model.TreeRef&lt;_&gt;</div>
<div class="tip" id="fs104">val map : f:(&#39;T -&gt; &#39;S) -&gt; ttree:TreeRef&lt;&#39;T&gt; -&gt; Cloud&lt;CloudCell&lt;CloudTree&lt;&#39;S&gt;&gt;&gt;<br /><br />Full name: Programming-model.map</div>
<div class="tip" id="fs105">val f : (&#39;T -&gt; &#39;S)</div>
<div class="tip" id="fs106">val ttree : TreeRef&lt;&#39;T&gt;</div>
<div class="tip" id="fs107">val value : CloudTree&lt;&#39;T&gt;</div>
<div class="tip" id="fs108">property CloudCell.Value: Local&lt;CloudTree&lt;&#39;T&gt;&gt;</div>
<div class="tip" id="fs109">val l : TreeRef&lt;&#39;T&gt;</div>
<div class="tip" id="fs110">val r : TreeRef&lt;&#39;T&gt;</div>
<div class="tip" id="fs111">val l&#39; : CloudCell&lt;CloudTree&lt;&#39;S&gt;&gt;</div>
<div class="tip" id="fs112">val r&#39; : CloudCell&lt;CloudTree&lt;&#39;S&gt;&gt;</div>
<div class="tip" id="fs113">val reduce : id:&#39;R -&gt; reduceF:(&#39;R -&gt; &#39;R -&gt; &#39;R) -&gt; rtree:TreeRef&lt;&#39;R&gt; -&gt; Cloud&lt;&#39;R&gt;<br /><br />Full name: Programming-model.reduce</div>
<div class="tip" id="fs114">val id : &#39;R</div>
<div class="tip" id="fs115">val reduceF : (&#39;R -&gt; &#39;R -&gt; &#39;R)</div>
<div class="tip" id="fs116">val rtree : TreeRef&lt;&#39;R&gt;</div>
<div class="tip" id="fs117">val value : CloudTree&lt;&#39;R&gt;</div>
<div class="tip" id="fs118">property CloudCell.Value: Local&lt;CloudTree&lt;&#39;R&gt;&gt;</div>
<div class="tip" id="fs119">val l : TreeRef&lt;&#39;R&gt;</div>
<div class="tip" id="fs120">val r : TreeRef&lt;&#39;R&gt;</div>
<div class="tip" id="fs121">val storePagesInCloudSequence : url:string -&gt; Cloud&lt;CloudSequence&lt;string&gt;&gt;<br /><br />Full name: Programming-model.storePagesInCloudSequence<br /><em><br /><br />&#160;Download the page and store it as a new cloud sequence of lines</em></div>
<div class="tip" id="fs122">val lines : string []</div>
<div class="tip" id="fs123">val cseq : CloudSequence&lt;string&gt;</div>
<div class="tip" id="fs124">Multiple items<br />module CloudSequence<br /><br />from MBrace<br /><br />--------------------<br />type CloudSequence =<br />&#160;&#160;static member FromFile : file:CloudFile * deserializer:(Stream -&gt; seq&lt;&#39;T&gt;) * ?force:bool -&gt; Local&lt;CloudSequence&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member FromFile : path:string * deserializer:(Stream -&gt; seq&lt;&#39;T&gt;) * ?force:bool -&gt; Local&lt;CloudSequence&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member FromTextFile : path:string * textDeserializer:(StreamReader -&gt; seq&lt;&#39;T&gt;) * ?encoding:Encoding * ?force:bool -&gt; Local&lt;CloudSequence&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member New : values:seq&lt;&#39;T&gt; * ?directory:string * ?serializer:ISerializer -&gt; Local&lt;CloudSequence&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member NewPartitioned : values:seq&lt;&#39;T&gt; * maxPartitionSize:int64 * ?directory:string * ?serializer:ISerializer -&gt; Local&lt;CloudSequence&lt;&#39;T&gt; []&gt;<br />&#160;&#160;static member Parse : file:CloudFile * ?serializer:ISerializer * ?force:bool -&gt; Local&lt;CloudSequence&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member Parse : path:string * ?serializer:ISerializer * ?force:bool -&gt; Local&lt;CloudSequence&lt;&#39;T&gt;&gt;<br /><br />Full name: MBrace.CloudSequence<br /><br />--------------------<br />type CloudSequence&lt;&#39;T&gt; =<br />&#160;&#160;interface ICloudDisposable<br />&#160;&#160;interface ICloudStorageEntity<br />&#160;&#160;private new : path:string * count:int option * serializer:ISerializer option -&gt; CloudSequence&lt;&#39;T&gt;<br />&#160;&#160;val mutable private uuid: string<br />&#160;&#160;val mutable private path: string<br />&#160;&#160;val mutable private count: int option<br />&#160;&#160;val mutable private serializer: ISerializer option<br />&#160;&#160;member private GetSequenceFromStore : config:CloudFileStoreConfiguration -&gt; Local&lt;seq&lt;&#39;T&gt;&gt;<br />&#160;&#160;member PopulateCache : unit -&gt; Local&lt;bool&gt;<br />&#160;&#160;member ToArray : unit -&gt; Local&lt;&#39;T []&gt;<br />&#160;&#160;...<br /><br />Full name: MBrace.CloudSequence&lt;_&gt;</div>
<div class="tip" id="fs125">static member CloudSequence.New : values:seq&lt;&#39;T&gt; * ?directory:string * ?serializer:Store.ISerializer -&gt; Local&lt;CloudSequence&lt;&#39;T&gt;&gt;</div>
<div class="tip" id="fs126">val storePagesInCloudVector : urls:string list -&gt; Cloud&lt;CloudVector&lt;string&gt;&gt;<br /><br />Full name: Programming-model.storePagesInCloudVector<br /><em><br /><br />&#160;Download the pages and store them as a new single cloud vector of all the<br />&#160;lines in all the pages, partitioned by page.</em></div>
<div class="tip" id="fs127">val urls : string list</div>
<div class="tip" id="fs128">val results : CloudSequence&lt;string&gt; []</div>
<div class="tip" id="fs129">val cv : CloudVector&lt;string&gt;</div>
<div class="tip" id="fs130">Multiple items<br />type CloudVector =<br />&#160;&#160;static member Merge : components:seq&lt;CloudVector&lt;&#39;T&gt;&gt; -&gt; CloudVector&lt;&#39;T&gt;<br />&#160;&#160;static member New : values:seq&lt;&#39;T&gt; * maxPartitionSize:int64 * ?enableCaching:bool -&gt; Local&lt;CloudVector&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member OfCloudFiles : files:seq&lt;string&gt; * deserializer:(Stream -&gt; seq&lt;&#39;T&gt;) * ?enableCaching:bool -&gt; Local&lt;CloudVector&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member OfPartitions : partitions:seq&lt;CloudSequence&lt;&#39;T&gt;&gt; * ?enableCaching:bool -&gt; Local&lt;CloudVector&lt;&#39;T&gt;&gt;<br /><br />Full name: MBrace.Streams.CloudVector<br /><br />--------------------<br />type CloudVector&lt;&#39;T&gt; =<br />&#160;&#160;interface ICloudDisposable<br />&#160;&#160;new : unit -&gt; CloudVector&lt;&#39;T&gt;<br />&#160;&#160;abstract member Dispose : unit -&gt; Local&lt;unit&gt;<br />&#160;&#160;abstract member GetAllPartitions : unit -&gt; CloudSequence&lt;&#39;T&gt; []<br />&#160;&#160;abstract member GetCacheState : unit -&gt; Local&lt;WorkerCacheState []&gt;<br />&#160;&#160;abstract member GetPartition : index:int -&gt; CloudSequence&lt;&#39;T&gt;<br />&#160;&#160;abstract member ToEnumerable : unit -&gt; Local&lt;seq&lt;&#39;T&gt;&gt;<br />&#160;&#160;abstract member UpdateCacheState : worker:IWorkerRef * appendedIndices:int [] -&gt; Local&lt;unit&gt;<br />&#160;&#160;abstract member Count : Local&lt;int64&gt;<br />&#160;&#160;abstract member IsCachingSupported : bool<br />&#160;&#160;...<br /><br />Full name: MBrace.Streams.CloudVector&lt;_&gt;<br /><br />--------------------<br />new : unit -&gt; CloudVector&lt;&#39;T&gt;</div>
<div class="tip" id="fs131">static member CloudVector.OfPartitions : partitions:seq&lt;CloudSequence&lt;&#39;T&gt;&gt; * ?enableCaching:bool -&gt; Local&lt;CloudVector&lt;&#39;T&gt;&gt;</div>
<div class="tip" id="fs132">namespace Nessos</div>
<div class="tip" id="fs133">namespace Nessos.FsPickler</div>
<div class="tip" id="fs134">val files : CloudFile []</div>
<div class="tip" id="fs135">Multiple items<br />type CloudFile =<br />&#160;&#160;interface ICloudDisposable<br />&#160;&#160;new : path:string -&gt; CloudFile<br />&#160;&#160;val mutable private path: string<br />&#160;&#160;override ToString : unit -&gt; string<br />&#160;&#160;member Path : string<br />&#160;&#160;member private StructuredFormatDisplay : string<br />&#160;&#160;static member Create : serializer:(Stream -&gt; Async&lt;unit&gt;) * ?path:string -&gt; Local&lt;CloudFile&gt;<br />&#160;&#160;static member Create : serializer:(Stream -&gt; Async&lt;unit&gt;) * directory:string * fileName:string -&gt; Local&lt;CloudFile&gt;<br />&#160;&#160;static member Delete : file:CloudFile -&gt; Local&lt;unit&gt;<br />&#160;&#160;static member Delete : path:string -&gt; Local&lt;unit&gt;<br />&#160;&#160;...<br /><br />Full name: MBrace.CloudFile<br /><br />--------------------<br />new : path:string -&gt; CloudFile</div>
<div class="tip" id="fs136">static member CloudFile.Enumerate : ?directory:CloudDirectory -&gt; Local&lt;CloudFile []&gt;<br />static member CloudFile.Enumerate : ?directory:string -&gt; Local&lt;CloudFile []&gt;</div>
<div class="tip" id="fs137">val wordCount : (CloudFile -&gt; Cloud&lt;string * (string * int) []&gt;)</div>
<div class="tip" id="fs138">val f : CloudFile</div>
<div class="tip" id="fs139">val text : string</div>
<div class="tip" id="fs140">static member CloudFile.ReadAllText : file:CloudFile * ?encoding:System.Text.Encoding -&gt; Local&lt;string&gt;<br />static member CloudFile.ReadAllText : file:string * ?encoding:System.Text.Encoding -&gt; Local&lt;string&gt;</div>
<div class="tip" id="fs141">val count : (string * int) []</div>
<div class="tip" id="fs142">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs143">val groupBy : projection:(&#39;T -&gt; &#39;Key) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;Key * seq&lt;&#39;T&gt;&gt; (requires equality)<br /><br />Full name: Microsoft.FSharp.Collections.Seq.groupBy</div>
<div class="tip" id="fs144">val id : x:&#39;T -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.id</div>
<div class="tip" id="fs145">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.map</div>
<div class="tip" id="fs146">val token : string</div>
<div class="tip" id="fs147">val instances : seq&lt;string&gt;</div>
<div class="tip" id="fs148">val length : source:seq&lt;&#39;T&gt; -&gt; int<br /><br />Full name: Microsoft.FSharp.Collections.Seq.length</div>
<div class="tip" id="fs149">val toArray : source:seq&lt;&#39;T&gt; -&gt; &#39;T []<br /><br />Full name: Microsoft.FSharp.Collections.Seq.toArray</div>
<div class="tip" id="fs150">property CloudFile.Path: string</div>
<div class="tip" id="fs151">val results : (string * (string * int) []) []</div>
<div class="tip" id="fs152">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U []<br /><br />Full name: Microsoft.FSharp.Collections.Array.map</div>
<div class="tip" id="fs153">val serializer : XmlSerializer</div>
<div class="tip" id="fs154">type FsPickler =<br />&#160;&#160;private new : unit -&gt; FsPickler<br />&#160;&#160;static member Clone : value:&#39;T -&gt; &#39;T<br />&#160;&#160;static member ComputeHash : value:&#39;T * ?hashFactory:IHashStreamFactory -&gt; HashResult<br />&#160;&#160;static member ComputeSize : value:&#39;T -&gt; int64<br />&#160;&#160;static member CreateBinary : ?forceLittleEndian:bool * ?typeConverter:ITypeNameConverter -&gt; BinarySerializer<br />&#160;&#160;static member CreateXml : ?typeConverter:ITypeNameConverter * ?indent:bool -&gt; XmlSerializer<br />&#160;&#160;static member GatherObjectsInGraph : graph:obj -&gt; obj []<br />&#160;&#160;static member GatherTypesInObjectGraph : graph:obj -&gt; Type []<br />&#160;&#160;static member GeneratePickler : unit -&gt; Pickler&lt;&#39;T&gt;<br />&#160;&#160;static member GeneratePickler : t:Type -&gt; Pickler<br />&#160;&#160;...<br /><br />Full name: Nessos.FsPickler.FsPickler</div>
<div class="tip" id="fs155">static member FsPickler.CreateXml : ?typeConverter:ITypeNameConverter * ?indent:bool -&gt; XmlSerializer</div>
<div class="tip" id="fs156">val file : CloudFile</div>
<div class="tip" id="fs157">static member CloudFile.Create : serializer:(System.IO.Stream -&gt; Async&lt;unit&gt;) * ?path:string -&gt; Local&lt;CloudFile&gt;<br />static member CloudFile.Create : serializer:(System.IO.Stream -&gt; Async&lt;unit&gt;) * directory:string * fileName:string -&gt; Local&lt;CloudFile&gt;</div>
<div class="tip" id="fs158">val fs : System.IO.Stream</div>
<div class="tip" id="fs159">member FsPicklerTextSerializer.Serialize : writer:System.IO.TextWriter * value:&#39;T * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?leaveOpen:bool -&gt; unit<br />member FsPicklerSerializer.Serialize : stream:System.IO.Stream * value:&#39;T * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?encoding:System.Text.Encoding * ?leaveOpen:bool -&gt; unit<br />member FsPicklerTextSerializer.Serialize : pickler:Pickler * writer:System.IO.TextWriter * value:obj * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?leaveOpen:bool -&gt; unit<br />member FsPicklerTextSerializer.Serialize : valueType:System.Type * writer:System.IO.TextWriter * value:obj * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?leaveOpen:bool -&gt; unit<br />member FsPicklerTextSerializer.Serialize : pickler:Pickler&lt;&#39;T&gt; * writer:System.IO.TextWriter * value:&#39;T * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?leaveOpen:bool -&gt; unit<br />member FsPicklerSerializer.Serialize : pickler:Pickler * stream:System.IO.Stream * value:obj * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?encoding:System.Text.Encoding * ?leaveOpen:bool -&gt; unit<br />member FsPicklerSerializer.Serialize : valueType:System.Type * stream:System.IO.Stream * value:obj * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?encoding:System.Text.Encoding * ?leaveOpen:bool -&gt; unit<br />member FsPicklerSerializer.Serialize : pickler:Pickler&lt;&#39;T&gt; * stream:System.IO.Stream * value:&#39;T * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?encoding:System.Text.Encoding * ?leaveOpen:bool -&gt; unit</div>
<div class="tip" id="fs160">val race : unit -&gt; Cloud&lt;int&gt;<br /><br />Full name: Programming-model.race</div>
<div class="tip" id="fs161">val mr : ICloudAtom&lt;int&gt;</div>
<div class="tip" id="fs162">type CloudAtom =<br />&#160;&#160;static member CreateContainerName : unit -&gt; Local&lt;string&gt;<br />&#160;&#160;static member Decr : atom:ICloudAtom&lt;&#39;T&gt; -&gt; Local&lt;unit&gt; (requires member ( - ) and member get_One)<br />&#160;&#160;static member Delete : atom:ICloudAtom&lt;&#39;T&gt; -&gt; Local&lt;unit&gt;<br />&#160;&#160;static member DeleteContainer : container:string -&gt; Local&lt;unit&gt;<br />&#160;&#160;static member Force : atom:ICloudAtom&lt;&#39;T&gt; * value:&#39;T -&gt; Local&lt;unit&gt;<br />&#160;&#160;static member Incr : atom:ICloudAtom&lt;&#39;T&gt; -&gt; Local&lt;unit&gt; (requires member ( + ) and member get_One)<br />&#160;&#160;static member IsSupportedValue : value:&#39;T -&gt; Local&lt;bool&gt;<br />&#160;&#160;static member New : initial:&#39;T * ?container:string -&gt; Local&lt;ICloudAtom&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member Read : atom:ICloudAtom&lt;&#39;T&gt; -&gt; Local&lt;&#39;T&gt;<br />&#160;&#160;static member Transact : atom:ICloudAtom&lt;&#39;T&gt; * transactF:(&#39;T -&gt; &#39;R * &#39;T) * ?maxRetries:int -&gt; Local&lt;&#39;R&gt;<br />&#160;&#160;...<br /><br />Full name: MBrace.CloudAtom</div>
<div class="tip" id="fs163">static member CloudAtom.New : initial:&#39;T * ?container:string -&gt; Local&lt;ICloudAtom&lt;&#39;T&gt;&gt;</div>
<div class="tip" id="fs164">static member CloudAtom.Force : atom:ICloudAtom&lt;&#39;T&gt; * value:&#39;T -&gt; Local&lt;unit&gt;</div>
<div class="tip" id="fs165">static member CloudAtom.Read : atom:ICloudAtom&lt;&#39;T&gt; -&gt; Local&lt;&#39;T&gt;</div>
<div class="tip" id="fs166">val increment : counter:ICloudAtom&lt;int&gt; -&gt; Cloud&lt;bool&gt;<br /><br />Full name: Programming-model.increment</div>
<div class="tip" id="fs167">val counter : ICloudAtom&lt;int&gt;</div>
<div class="tip" id="fs168">type ICloudAtom&lt;&#39;T&gt; =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;inherit ICloudDisposable<br />&#160;&#160;&#160;&#160;abstract member Force : value:&#39;T -&gt; Local&lt;unit&gt;<br />&#160;&#160;&#160;&#160;abstract member Update : updater:(&#39;T -&gt; &#39;T) * ?maxRetries:int -&gt; Local&lt;unit&gt;<br />&#160;&#160;&#160;&#160;abstract member Id : string<br />&#160;&#160;&#160;&#160;abstract member Value : Local&lt;&#39;T&gt;<br />&#160;&#160;end<br /><br />Full name: MBrace.ICloudAtom&lt;_&gt;</div>
<div class="tip" id="fs169">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs170">val v : int</div>
<div class="tip" id="fs171">val ok : bool</div>
<div class="tip" id="fs172">static member CloudAtom.Transact : atom:ICloudAtom&lt;&#39;T&gt; * transactF:(&#39;T -&gt; &#39;R * &#39;T) * ?maxRetries:int -&gt; Local&lt;&#39;R&gt;</div>

        </div>
        <div class="span3">
          <a href="http://www.m-brace.net/index.html">
            <img src="http://www.m-brace.net/img/mbrace.png" alt="F# Project" style="width:150px;margin:10px" />
          </a>
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">MBrace</li>
            <li><a href="http://www.m-brace.net/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://www.nuget.org/packages/MBrace.Core">Get Library via NuGet</a></li>
            <li><a href="http://github.com/mbraceproject/MBrace.Core">Source Code on GitHub</a></li>
            <li><a href="http://github.com/mbraceproject/MBrace.Core/blob/master/LICENSE.md">License</a></li>
            <li><a href="http://github.com/mbraceproject/MBrace.Core/blob/master/RELEASE_NOTES.md">Release Notes</a></li>

            <li class="nav-header">Getting Started</li>
            <li><a href="http://www.m-brace.net/azure-tutorial.html">Azure tutorial</a></li>
            <li class="divider"></li>
            <li><a target="_blank" href="http://skillsmatter.com/skillscasts/5157-mbrace-large-scale-distributed-computation-with-f">Video presentation</a></li>
            <li><a target="_blank" href="http://www.m-brace.net/mbrace-plos.pdf">PLOS'13 Publication</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="http://www.m-brace.net/programming-model.html">Programming model</a></li>
            <li><a href="http://www.m-brace.net/client-api.html">Client API</a></li>
            <!--<li><a target="_blank" href="http://www.m-brace.net/mbrace-manual.pdf">MBrace Manual</a></li>-->
            <li><a href="http://www.m-brace.net/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/mbraceproject/MBrace.Core"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
